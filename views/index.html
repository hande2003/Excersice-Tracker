<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excersice Tracker</title>
    <link rel="stylesheet" href="../public/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid">
        <header class="text-center my-5"><h1>Excersice Tracker</h1></header>
        <div class="row shadow rounded" id="main">
            <div class="col my-5">
                <div class="card shadow-sm rounded h-100">
                    <div class="card-header">
                        Create a New User
                    </div>
                    <div class="card-body">
                        <form action="/api/users" method="post" class=" d-grid gap-2" autocomplete="off">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="uname" name="username" placeholder="_id" required>
                                <label for="uname">Username</label>
                            </div>
                            <button class="btn btn-success" type="submit">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col my-5">
                <div class="card shadow-sm rounded h-100">
                    <div class="card-header">
                        Add Excersices
                    </div>
                    <div class="card-body">
                        <form method="post" id="add-exercise-form" class=" d-grid gap-2">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="uid" name="_id" placeholder="_id" required>
                                <label for="uid">_id*</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="desc" name="description" placeholder="description" required>
                                <label for="desc">Description*</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="number" class="form-control" id="dur" name="duration" placeholder="duration* (mins.)" required>
                                <label for="dur">Duration* (mins.)</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="date" class="form-control" id="date" name="date" placeholder="date (yyyy-mm-dd)">
                                <label for="date">Date</label>
                            </div>
                            <button class="btn btn-success" type="submit" onclick=addExercise()>Submit</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col my-5">
                <div class="card shadow-sm rounded h-100">
                    <div class="card-header">
                        User's Excersice Log
                    </div>
                    <div class="card-body">
                        <form method="get" id='exercise-log-form' class=" d-grid gap-2">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="userid" name="_id" placeholder="_id*" required>
                                <label for="userid">_id*</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="date" class="form-control" id="from" name="from" placeholder="From">
                                <label for="desc">From</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="date" class="form-control" id="to" name="to">
                                <label for="to">To</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="number" class="form-control" id="limit" name="limit" placeholder="limit">
                                <label for="limit">Limit</label>
                            </div>
                            <button class="btn btn-success" type="submit" onclick=exerciseLog()>Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const addExercise = ()=>{
            const addExcersiceId = document.getElementById("uid").value;    
            document.getElementById('add-exercise-form').action = `/api/users/${addExcersiceId}/exercises`;
            window.location.reload();
        }
        const exerciseLog = ()=>{
            const excersiceLogId = document.getElementById("userid").value;    
            document.getElementById('exercise-log-form').action = `/api/users/${excersiceLogId}/logs`;
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>